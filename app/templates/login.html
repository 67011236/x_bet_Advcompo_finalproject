<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>login</title>

  <!-- ‡∏ü‡∏≠‡∏ô‡∏ï‡πå -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;600;700;800&display=swap" />

  <!-- ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î CSS: base -> ‡∏´‡∏ô‡πâ‡∏≤ -> header (‡πÉ‡∏´‡πâ header.css ‡∏≠‡∏¢‡∏π‡πà‡∏ó‡πâ‡∏≤‡∏¢‡∏™‡∏∏‡∏î) -->
  <link rel="stylesheet" href="{{ url_for('static', path='base.css') }}" />
  <link rel="stylesheet" href="{{ url_for('static', path='styles-login.css') }}" />
  <link rel="stylesheet" href="{{ url_for('static', path='header.css') }}" />
</head>

<body>
  <div class="page">
    <!-- Header ‡∏£‡∏ß‡∏°‡πÇ‡∏•‡πÇ‡∏Å‡πâ + ‡πÄ‡∏°‡∏ô‡∏π -->
    {% include 'header.html' %}

    <!-- CONTENT -->
    <main class="container">
      <!-- LOGIN CARD -->
      <section class="login-box">
        <h2>Log in</h2>

        <form method="post" action="/login">
          <label>Email</label>
          <input type="email" name="email" placeholder="Enter email" required>

          <div class="field">
            <label>Password</label>

            <div class="input-with-eye">
              <input class="input" type="password" name="password" id="pwd" placeholder="Enter password" required />
              <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏≤ -->
              <button type="button" id="togglePwd" class="eye-btn" aria-label="Show password"
                title="Show password">üëÅÔ∏è</button>
            </div>
          </div>


          {% if error %}
          <p style="color:#f33; margin:8px 0 0">{{ error }}</p>
          {% endif %}

          <button class="btn" type="submit">Log in</button>
        </form>

        <p class="meta">
          Don‚Äôt have an account?
          <a class="link" href="/register">Sign up</a>
        </p>
      </section>

      <!-- WELCOME TEXT -->
      <section class="welcome">
        <h1>WELCOME BACK</h1>
        <p>Your first step to investing start here - log in</p>
      </section>
    </main>
  </div>

  <!-- Script toggle password -->
  <script>
    const pwd = document.getElementById('pwd');
    const togglePwd = document.getElementById('togglePwd');

    togglePwd.addEventListener('click', () => {
      const showing = pwd.getAttribute('type') === 'text';
      if (showing) {
        pwd.setAttribute('type', 'password');
        togglePwd.textContent = 'üëÅÔ∏è';
        togglePwd.setAttribute('aria-label', 'Show password');
        togglePwd.setAttribute('title', 'Show password');
      } else {
        pwd.setAttribute('type', 'text');
        togglePwd.textContent = 'üôà';
        togglePwd.setAttribute('aria-label', 'Hide password');
        togglePwd.setAttribute('title', 'Hide password');
      }
    });
  </script>

</body>

</html>